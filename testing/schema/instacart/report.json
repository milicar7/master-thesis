{
  "statistics": {
    "total_tables": 5,
    "total_columns": 19,
    "total_foreign_keys": 3,
    "tables_with_primary_key": 5,
    "primary_key_coverage": "100.0%",
    "data_type_distribution": {
      "INTEGER": 13,
      "BOOLEAN": 1,
      "VARCHAR": 4,
      "DECIMAL": 1
    },
    "normalization_suggestions_count": 2,
    "normalization_suggestions_by_type": {
      "3NF": 2
    }
  },
  "file_metadata": {
    "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/order_products.csv": {
      "file_path": "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/order_products.csv",
      "sample_method": "sequential",
      "encoding": "utf-8",
      "delimiter": ","
    },
    "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/products.csv": {
      "file_path": "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/products.csv",
      "sample_method": "sequential",
      "encoding": "utf-8",
      "delimiter": ","
    },
    "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/orders.csv": {
      "file_path": "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/orders.csv",
      "sample_method": "sequential",
      "encoding": "utf-8",
      "delimiter": ","
    },
    "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/departments.csv": {
      "file_path": "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/departments.csv",
      "sample_method": "sequential",
      "encoding": "utf-8",
      "delimiter": ","
    },
    "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/aisles.csv": {
      "file_path": "/Users/milica/Desktop/master-thesis/testing/schema/instacart/../datasets/instacart/aisles.csv",
      "sample_method": "sequential",
      "encoding": "utf-8",
      "delimiter": ","
    }
  },
  "tables": {
    "order_products": {
      "name": "order_products",
      "row_count": 99999,
      "column_count": 4,
      "primary_key": [
        "order_id",
        "product_id"
      ],
      "foreign_key_count": 1,
      "columns": [
        {
          "name": "order_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "9.5%",
            "null_count": 0,
            "distinct_count": 9477
          }
        },
        {
          "name": "product_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "16.7%",
            "null_count": 0,
            "distinct_count": 16738
          }
        },
        {
          "name": "add_to_cart_order",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.1%",
            "null_count": 0,
            "distinct_count": 70
          }
        },
        {
          "name": "reordered",
          "data_type": "BOOLEAN",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 0,
            "distinct_count": 2
          }
        }
      ],
      "foreign_keys": [
        {
          "columns": [
            "product_id"
          ],
          "referenced_table": "products",
          "referenced_columns": [
            "product_id"
          ],
          "confidence": "130.0%",
          "reasoning": "100.0% value overlap with strong relationship indicators"
        }
      ]
    },
    "products": {
      "name": "products",
      "row_count": 49688,
      "column_count": 4,
      "primary_key": [
        "product_id"
      ],
      "foreign_key_count": 2,
      "columns": [
        {
          "name": "product_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 49688
          }
        },
        {
          "name": "product_name",
          "data_type": "VARCHAR",
          "nullable": false,
          "max_length": 196,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 49688
          }
        },
        {
          "name": "aisle_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.3%",
            "null_count": 0,
            "distinct_count": 134
          }
        },
        {
          "name": "department_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 0,
            "distinct_count": 21
          }
        }
      ],
      "foreign_keys": [
        {
          "columns": [
            "aisle_id"
          ],
          "referenced_table": "aisles",
          "referenced_columns": [
            "aisle_id"
          ],
          "confidence": "130.0%",
          "reasoning": "100.0% value overlap with strong relationship indicators"
        },
        {
          "columns": [
            "department_id"
          ],
          "referenced_table": "departments",
          "referenced_columns": [
            "department_id"
          ],
          "confidence": "130.0%",
          "reasoning": "100.0% value overlap with strong relationship indicators"
        }
      ]
    },
    "orders": {
      "name": "orders",
      "row_count": 99999,
      "column_count": 7,
      "primary_key": [
        "order_id"
      ],
      "foreign_key_count": 0,
      "columns": [
        {
          "name": "order_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 99999
          }
        },
        {
          "name": "user_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "6.0%",
            "null_count": 0,
            "distinct_count": 6045
          }
        },
        {
          "name": "eval_set",
          "data_type": "VARCHAR",
          "nullable": false,
          "max_length": 10,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 0,
            "distinct_count": 3
          }
        },
        {
          "name": "order_number",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.1%",
            "null_count": 0,
            "distinct_count": 100
          }
        },
        {
          "name": "order_dow",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 0,
            "distinct_count": 7
          }
        },
        {
          "name": "order_hour_of_day",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 0,
            "distinct_count": 24
          }
        },
        {
          "name": "days_since_prior_order",
          "data_type": "DECIMAL",
          "nullable": true,
          "max_length": null,
          "statistics": {
            "unique_ratio": "0.0%",
            "null_count": 6045,
            "distinct_count": 31
          }
        }
      ],
      "foreign_keys": []
    },
    "departments": {
      "name": "departments",
      "row_count": 21,
      "column_count": 2,
      "primary_key": [
        "department_id"
      ],
      "foreign_key_count": 0,
      "columns": [
        {
          "name": "department_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 21
          }
        },
        {
          "name": "department",
          "data_type": "VARCHAR",
          "nullable": false,
          "max_length": 30,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 21
          }
        }
      ],
      "foreign_keys": []
    },
    "aisles": {
      "name": "aisles",
      "row_count": 134,
      "column_count": 2,
      "primary_key": [
        "aisle_id"
      ],
      "foreign_key_count": 0,
      "columns": [
        {
          "name": "aisle_id",
          "data_type": "INTEGER",
          "nullable": false,
          "max_length": null,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 134
          }
        },
        {
          "name": "aisle",
          "data_type": "VARCHAR",
          "nullable": false,
          "max_length": 58,
          "statistics": {
            "unique_ratio": "100.0%",
            "null_count": 0,
            "distinct_count": 134
          }
        }
      ],
      "foreign_keys": []
    }
  },
  "normalization_suggestions": [
    {
      "table_name": "products",
      "suggestion_type": "3NF",
      "description": "Transitive dependency detected: department_id, aisle_id depends on product_name, creating transitive dependency through primary key. Consider extracting to a separate 'product_name_details' table with columns: product_name, department_id, aisle_id.",
      "confidence": "100.0%"
    },
    {
      "table_name": "products",
      "suggestion_type": "3NF",
      "description": "Transitive dependency detected: department_id depends on aisle_id, creating transitive dependency through primary key. Consider extracting to a separate 'aisle_id_details' table with columns: aisle_id, department_id.",
      "confidence": "90.1%"
    }
  ]
}